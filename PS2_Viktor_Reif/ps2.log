--------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\fx236\Documents\impact_eval\Impact_Eval\PS2_Viktor_Reif\ps2.log
  log type:  text
 opened on:  12 Dec 2021, 22:36:22

. use "namelist.dta", clear

. browse

. use "schoolvar.dta"

. browse

. 
. 
. *** b)
. use "namelist.dta", clear

. // I assume every child in the datset had the first visit in 1998
. keep if visit==981
(521,880 observations deleted)

. 
. 
. *** c)
. //duplicates drop pupid, force  would also work
. keep if dupid==1
(11 observations deleted)

. duplicates report pupid

Duplicates in terms of pupid

--------------------------------------
   Copies | Observations       Surplus
----------+---------------------------
        1 |        34781             0
--------------------------------------

. 
. *** d)
. merge 1:1 pupid using "pupq.dta"

    Result                      Number of obs
    -----------------------------------------
    Not matched                        20,425
        from master                    19,728  (_merge==1)
        from using                        697  (_merge==2)

    Matched                            15,053  (_merge==3)
    -----------------------------------------

. 
. *** e) i)
. gen absent_share = absdays_98_6/20
(22,500 missing values generated)

. 
. *** e) ii)
. // I assume often sick only holds if value is "often ". "Sometime" does not count.
. gen often_sick = 0

. replace often_sick=1 if fallsick_98_37==3
(1,239 real changes made)

. *** e) iii)
. // I assume "a bit dirty" does not count as clean.
. gen clean = 0

. replace clean=1 if clean_98_15==1
(8,434 real changes made)

. 
. *** f)
. 
. 
. collapse (mean) male_avg = sex, by(schid) (count)
option ( not allowed
r(198);

end of do-file

r(198);

. hist aweight
variable aweight not found
r(111);

. hist wgrp
(bin=45, start=1, width=.04444444)

. codebook wgrp

--------------------------------------------------------------------------------------------------------------------------------------------------------
wgrp                                                                                                                        Initial worm group, Jan 1998
--------------------------------------------------------------------------------------------------------------------------------------------------------

                  Type: Numeric (byte)

                 Range: [1,3]                         Units: 1
         Unique values: 3                         Missing .: 697/35,478

            Tabulation: Freq.  Value
                       11,634  1
                       11,990  2
                       11,157  3
                          697  .

. do "C:\Users\fx236\AppData\Local\Temp\10\STD3654_000000.tmp"

. summarize wgrp

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
        wgrp |     34,781    1.986286    .8093839          1          3

. 
end of do-file

. do "C:\Users\fx236\AppData\Local\Temp\10\STD3654_000000.tmp"

. estimates store summarize
last estimation results not found, nothing to store
r(301);

end of do-file

r(301);

